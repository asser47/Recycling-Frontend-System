<app-card class="shadow-md">
  <app-card-header>
    <app-card-title class="text-2xl">{{ t('recentRequests') }}</app-card-title>
    <app-card-description>Your recycling activity history</app-card-description>
  </app-card-header>
  <app-card-content>
    <div class="space-y-4">
      @for (request of requests; track request.id) {
<app-request-card
  [request]="request"
  [clickable]="true"
  [showActions]="true"
  [isCanceling]="cancelingOrderId === request.id"
  (onCancel)="cancelOrder($event)"
  (onCardClick)="toggleRequest($event)"
>
</app-request-card>
@if (selectedRequestId === request.id) {
  <div class="request-details-expanded">
    <div class="details-grid">

      <div>
<strong>ğŸ“¦ Quantity:</strong>
{{ getQuantityLabel(request) }}

      </div>

      <div>
        <strong>ğŸ  Full Address:</strong>
        {{ request.street }}, {{ request.buildingNo }},
        {{ request.city }}
      </div>

      <div>
        <strong>ğŸ“… Created At:</strong>
        {{ request.orderDate | date:'mediumDate' }}
      </div>

      @if (request.collectorName) {
        <div>
          <strong>ğŸš› Collector:</strong>
          {{ request.collectorName }}
        </div>
      }

      @if (request.status === 'completed') {
        <div class="text-green-600 font-semibold">
          âœ… Order Completed Successfully
        </div>
      }

    </div>
  </div>
}


      }
      @if (requests.length === 0) {
        <div class="text-center py-8 text-muted-foreground">
          <span class="text-4xl block mb-2">ğŸ“¦</span>
          <p>No requests yet. Create your first collection request!</p>
        </div>
      }
    </div>
  </app-card-content>
</app-card>
@if (flashMessage) {
  <div
    class="alert mb-4"
    [class.alert-success]="flashType === 'success'"
    [class.alert-danger]="flashType === 'error'"
  >
    {{ flashMessage }}
  </div>
}
